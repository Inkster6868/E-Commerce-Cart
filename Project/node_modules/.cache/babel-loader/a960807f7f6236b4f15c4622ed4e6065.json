{"ast":null,"code":"import axios from \"axios\";\nexport const addItemHandler = item => {\n  return dispatch => {\n    dispatch({\n      type: \"ADD_ITEM\",\n      payload: {\n        item: item\n      }\n    });\n  };\n};\nexport const removeItemHandler = id => {\n  return dispatch => {\n    dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: {\n        id: id\n      }\n    });\n  };\n};\nexport const clearCartHandler = () => {\n  return dispatch => {\n    dispatch({\n      type: \"CLEAR_CART\"\n    });\n  };\n};\nexport const placeOrderHandler = callback => {\n  return async (dispatch, getState) => {\n    try {\n      const {\n        auth,\n        cart\n      } = getState();\n      if (!auth.idToken) {\n        return callback({\n          error: true,\n          data: {\n            error: \"Please login to place the order.\"\n          }\n        });\n      }\n      const response = await axios.post(`https://react-guide-2021-default-rtdb.firebaseio.com/orders/${auth.localId}.json?auth=${auth.idToken}`, {\n        ...cart\n      });\n      dispatch({\n        type: \"CLEAR_CART\"\n      });\n      return callback({\n        error: false,\n        data: response.data\n      });\n    } catch (error) {\n      return callback({\n        error: true,\n        ...error.response\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","addItemHandler","item","dispatch","type","payload","removeItemHandler","id","clearCartHandler","placeOrderHandler","callback","getState","auth","cart","idToken","error","data","response","post","localId"],"sources":["C:/Users/tusha/Desktop/React/ETE/Project/src/6.)actions/index.js"],"sourcesContent":["import axios from \"axios\"\n\nexport const addItemHandler = item => {\n    return dispatch => {\n        dispatch({\n            type: \"ADD_ITEM\",\n            payload: {\n                item: item\n            }\n        })\n    }\n}\n\nexport const removeItemHandler = id => {\n    return dispatch => {\n        dispatch({\n            type: \"REMOVE_ITEM\",\n            payload: {\n                id: id\n            }\n        })\n    }\n}\n\nexport const clearCartHandler = () => {\n    return dispatch => {\n        dispatch({\n            type: \"CLEAR_CART\"\n        })\n    }\n}\n\nexport const placeOrderHandler = (callback) => {\n    return async (dispatch, getState) => {\n        try {\n            const { auth, cart } = getState()\n            if(!auth.idToken) {\n                return callback({\n                    error: true,\n                    data: {\n                        error: \"Please login to place the order.\"\n                    }\n                })\n            }\n            const response = await axios.post(`https://react-guide-2021-default-rtdb.firebaseio.com/orders/${auth.localId}.json?auth=${auth.idToken}`, {\n                ...cart\n            })\n            dispatch({\n                type: \"CLEAR_CART\"\n            })\n            return callback({\n                error: false,\n                data: response.data\n            })\n        } catch (error) {\n            return callback({\n                error: true,\n                ...error.response\n            })\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,cAAc,GAAGC,IAAI,IAAI;EAClC,OAAOC,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE,UAAU;MAChBC,OAAO,EAAE;QACLH,IAAI,EAAEA;MACV;IACJ,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AAED,OAAO,MAAMI,iBAAiB,GAAGC,EAAE,IAAI;EACnC,OAAOJ,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAE;QACLE,EAAE,EAAEA;MACR;IACJ,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG,MAAM;EAClC,OAAOL,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE;IACV,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AAED,OAAO,MAAMK,iBAAiB,GAAIC,QAAQ,IAAK;EAC3C,OAAO,OAAOP,QAAQ,EAAEQ,QAAQ,KAAK;IACjC,IAAI;MACA,MAAM;QAAEC,IAAI;QAAEC;MAAK,CAAC,GAAGF,QAAQ,EAAE;MACjC,IAAG,CAACC,IAAI,CAACE,OAAO,EAAE;QACd,OAAOJ,QAAQ,CAAC;UACZK,KAAK,EAAE,IAAI;UACXC,IAAI,EAAE;YACFD,KAAK,EAAE;UACX;QACJ,CAAC,CAAC;MACN;MACA,MAAME,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAE,+DAA8DN,IAAI,CAACO,OAAQ,cAAaP,IAAI,CAACE,OAAQ,EAAC,EAAE;QACvI,GAAGD;MACP,CAAC,CAAC;MACFV,QAAQ,CAAC;QACLC,IAAI,EAAE;MACV,CAAC,CAAC;MACF,OAAOM,QAAQ,CAAC;QACZK,KAAK,EAAE,KAAK;QACZC,IAAI,EAAEC,QAAQ,CAACD;MACnB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZ,OAAOL,QAAQ,CAAC;QACZK,KAAK,EAAE,IAAI;QACX,GAAGA,KAAK,CAACE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module"}